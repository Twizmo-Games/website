---
import {Image} from "astro:assets";
import logo from "@/assets/images/logo.svg";

import {SiteLinks} from "@/links";
---

<nav
        x-data="{ mobileMenuIsOpen: false }"
        x-on:click.away="mobileMenuIsOpen = false"
        class="flex justify-between items-center"
        aria-label="navigation menu"
>
    <!-- Brand Logo -->
    <a href="/website">
        <Image
                alt="Logo"
                src={logo}
                height="38"
                class="hover:scale-110 transition-all"
        />
    </a>

    <!-- Desktop Menu -->
    <ul class="hidden items-stretch gap-8 md:flex font-semibold text-center">

        {SiteLinks.map((link) => (
                <li class="transition-all hover:underline underline-offset-8 decoration-2">
                    <a href={link.url}>{link.name}</a>
                </li>
        ))}
    </ul>

    <!-- Mobile Menu Button -->
    <button
            x-on:click="mobileMenuIsOpen = !mobileMenuIsOpen"
            x-bind:aria-expanded="mobileMenuIsOpen"
            x-bind:class="mobileMenuIsOpen ? 'fixed top-4 right-4 z-20' : null"
            type="button"
            class="md:hidden"
            aria-label="mobile menu"
            aria-controls="mobileMenu"
    >
        <svg
                x-cloak
                x-show="!mobileMenuIsOpen"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                class="size-6"
        >
            <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
        </svg>
        <svg
                x-cloak
                x-show="mobileMenuIsOpen"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                class="size-6"
        >
            <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M6 18 18 6M6 6l12 12"></path>
        </svg>
    </button>

    <!-- Mobile Menu -->
    <ul
            x-cloak
            x-show="mobileMenuIsOpen"
            x-transition:enter="transition motion-reduce:transition-none ease-out duration-300"
            x-transition:enter-start="-translate-y-full"
            x-transition:enter-end="translate-y-0"
            x-transition:leave="transition motion-reduce:transition-none ease-out duration-300"
            x-transition:leave-start="translate-y-0"
            x-transition:leave-end="-translate-y-full"
            id="mobileMenu"
            class="fixed max-h-svh overflow-y-auto inset-x-0 top-0 z-10 flex flex-col divide-y-2 divide-outline divide-text border-b-2 border-text border-outline px-6 pb-6 pt-20 md:hidden bg-green shadow-2xl"
    >
        {SiteLinks.map((link) => (
                <li class="py-4">
                    <a
                            href={link.url}
                            class="w-full text-lg font-bold text-on-surface focus:underline"
                    >
                        {link.name}
                    </a>
                </li>
        ))}
    </ul>
</nav>
